{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useQueryClient } from 'react-query';\nimport { axiosInstance } from '../../../axiosInstance';\nimport { useCustomToast } from '../../app/hooks/useCustomToast';\n\nasync function removeAppointmentUser(appointment) {\n  const patchData = [{\n    op: 'remove',\n    path: '/userId'\n  }];\n  await axiosInstance.patch(`/appointment/${appointment.id}`, {\n    data: patchData\n  });\n}\n\nexport function useCancelAppointment() {\n  _s();\n\n  const queryClient = useQueryClient();\n  const toast = useCustomToast();\n  const {\n    mutate\n  } = useMutation(appointment => removeAppointmentUser(appointment));\n  return mutate;\n}\n\n_s(useCancelAppointment, \"hoUwZA1xHrROpctkoAMiT28Sz2U=\", true, function () {\n  return [useQueryClient, useCustomToast];\n});","map":{"version":3,"sources":["/Users/viniciusalexandre/Documents/development/udemy-REACT-QUERY/base-lazy-days/client/src/components/appointments/hooks/useCancelAppointment.ts"],"names":["useQueryClient","axiosInstance","useCustomToast","removeAppointmentUser","appointment","patchData","op","path","patch","id","data","useCancelAppointment","queryClient","toast","mutate","useMutation"],"mappings":";;AAAA,SAASA,cAAT,QAA+B,aAA/B;AAEA,SAASC,aAAT,QAA8B,wBAA9B;AAEA,SAASC,cAAT,QAA+B,gCAA/B;;AAEA,eAAeC,qBAAf,CAAqCC,WAArC,EAA8E;AAC5E,QAAMC,SAAS,GAAG,CAAC;AAAEC,IAAAA,EAAE,EAAE,QAAN;AAAgBC,IAAAA,IAAI,EAAE;AAAtB,GAAD,CAAlB;AACA,QAAMN,aAAa,CAACO,KAAd,CAAqB,gBAAeJ,WAAW,CAACK,EAAG,EAAnD,EAAsD;AAC1DC,IAAAA,IAAI,EAAEL;AADoD,GAAtD,CAAN;AAGD;;AAED,OAAO,SAASM,oBAAT,GAAoE;AAAA;;AACzE,QAAMC,WAAW,GAAGZ,cAAc,EAAlC;AACA,QAAMa,KAAK,GAAGX,cAAc,EAA5B;AAEA,QAAM;AAAEY,IAAAA;AAAF,MAAaC,WAAW,CAAEX,WAAD,IAC7BD,qBAAqB,CAACC,WAAD,CADO,CAA9B;AAIA,SAAOU,MAAP;AACD;;GATeH,oB;UACMX,c,EACNE,c","sourcesContent":["import { useQueryClient } from 'react-query';\nimport { Appointment } from '../../../../../shared/types';\nimport { axiosInstance } from '../../../axiosInstance';\nimport { queryKeys } from '../../../react-query/constants';\nimport { useCustomToast } from '../../app/hooks/useCustomToast';\n\nasync function removeAppointmentUser(appointment: Appointment): Promise<void> {\n  const patchData = [{ op: 'remove', path: '/userId' }];\n  await axiosInstance.patch(`/appointment/${appointment.id}`, {\n    data: patchData,\n  });\n}\n\nexport function useCancelAppointment(): (appointment: Appointment) => void {\n  const queryClient = useQueryClient();\n  const toast = useCustomToast();\n\n  const { mutate } = useMutation((appointment: Appointment) =>\n    removeAppointmentUser(appointment),\n  );\n\n  return mutate;\n}\n"]},"metadata":{},"sourceType":"module"}